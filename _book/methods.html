<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Methods | Memphis Code Enforcement</title>
  <meta name="description" content="This is the capstone for my master’s degree." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Methods | Memphis Code Enforcement" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the capstone for my master’s degree." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Methods | Memphis Code Enforcement" />
  
  <meta name="twitter:description" content="This is the capstone for my master’s degree." />
  

<meta name="author" content="Sarah Johnson" />


<meta name="date" content="2021-07-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="literature.html"/>
<link rel="next" href="applications.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Memphis CE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About the Author</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i><b>3</b> Literature</a></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a>
<ul>
<li class="chapter" data-level="4.1" data-path="methods.html"><a href="methods.html#dataset-service-requests-since-2016"><i class="fa fa-check"></i><b>4.1</b> Dataset: Service Requests Since 2016</a></li>
<li class="chapter" data-level="4.2" data-path="methods.html"><a href="methods.html#requests-by-year"><i class="fa fa-check"></i><b>4.2</b> Requests by Year</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="methods.html"><a href="methods.html#active-cases"><i class="fa fa-check"></i><b>4.2.1</b> Active Cases</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="methods.html"><a href="methods.html#request-type"><i class="fa fa-check"></i><b>4.3</b> Request Type</a></li>
<li class="chapter" data-level="4.4" data-path="methods.html"><a href="methods.html#resolution-code"><i class="fa fa-check"></i><b>4.4</b> Resolution Code</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Memphis Code Enforcement</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Methods</h1>
<p>We describe our methods in this chapter.</p>
<div id="dataset-service-requests-since-2016" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Dataset: Service Requests Since 2016</h2>
<p>Memphis housing code enforcement data from 2016-present is available through <a href="https://data.memphistn.gov/dataset/Service-Requests-since-2016/hmd4-ddta">Memphis Data Hub</a>.</p>
<p>This page uses a dataset downloaded July 19, 2021. At the time of download, there were 53 columns and 1,232,097 rows.</p>
<p>Despite the large number of records, only a handful are relevant to this paper. This is because the dataset contains <strong>all</strong> requests to 311, not just those related to code enforcement. Additionally, many columns contain duplicate or unhelpful information. For instance, there are 23 columns related to location and under the column <code>LAST_UPDATED_BY</code>, every single entry was the number “460101.”</p>
<p>The dataset was simplified by filtering for code enforcement data and narrowing the number of columns.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="methods.html#cb1-1" aria-hidden="true" tabindex="-1"></a>CE <span class="ot">&lt;-</span> Service_Requests_since_2016 <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="methods.html#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(DEPARTMENT <span class="sc">==</span> <span class="st">&quot;Code Enforcement&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="methods.html#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb1-4"><a href="methods.html#cb1-4" aria-hidden="true" tabindex="-1"></a>    INCIDENT_NUMBER, <span class="co">#&#39; unique key; service request (sr) number</span></span>
<span id="cb1-5"><a href="methods.html#cb1-5" aria-hidden="true" tabindex="-1"></a>    PARCEL_ID, <span class="co">#&#39; parcel ID</span></span>
<span id="cb1-6"><a href="methods.html#cb1-6" aria-hidden="true" tabindex="-1"></a>    ADDRESS1, <span class="co">#&#39; just the street name &amp; number (alt: use FULL_ADDRESS)</span></span>
<span id="cb1-7"><a href="methods.html#cb1-7" aria-hidden="true" tabindex="-1"></a>    REQUEST_TYPE, <span class="co">#&#39; category for the request</span></span>
<span id="cb1-8"><a href="methods.html#cb1-8" aria-hidden="true" tabindex="-1"></a>    CE_CATEGORY, <span class="co">#&#39; category for CE action</span></span>
<span id="cb1-9"><a href="methods.html#cb1-9" aria-hidden="true" tabindex="-1"></a>    RESOLUTION_CODE<span class="sc">:</span>RESOLUTION_SUMMARY, <span class="co">#&#39; categorizes &amp; explains how the request resolved</span></span>
<span id="cb1-10"><a href="methods.html#cb1-10" aria-hidden="true" tabindex="-1"></a>    REQUEST_STATUS, <span class="co">#&#39; is the request open or closed?</span></span>
<span id="cb1-11"><a href="methods.html#cb1-11" aria-hidden="true" tabindex="-1"></a>    REPORTED_DATE, <span class="co">#&#39; date the request was reported</span></span>
<span id="cb1-12"><a href="methods.html#cb1-12" aria-hidden="true" tabindex="-1"></a>    LAST_MODIFIED_DATE, <span class="co">#&#39; date the request was last modified</span></span>
<span id="cb1-13"><a href="methods.html#cb1-13" aria-hidden="true" tabindex="-1"></a>    OWNER_NAME, <span class="co">#&#39; the assigned CE inspector</span></span>
<span id="cb1-14"><a href="methods.html#cb1-14" aria-hidden="true" tabindex="-1"></a>    location1 <span class="co">#&#39; geocoordinates</span></span>
<span id="cb1-15"><a href="methods.html#cb1-15" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>The output is 13 columns and 154,844 rows, significantly easier to work with. We’re ready to begin looking at the data.</p>
</div>
<div id="requests-by-year" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Requests by Year</h2>
<p>First, how many requests were created each year? We can filter the <code>REPORTED_DATE</code> column to find out.</p>
<p><code>CE16 &lt;- CE %&gt;% filter(REPORTED_DATE &gt;= "2016-01-01", REPORTED_DATE &lt; "2017-01-01")</code></p>
<p>Below are the number of requests for each year between 2016 and 2021.</p>
<table>
<thead>
<tr class="header">
<th>Reported Date</th>
<th>Number of Requests</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2016</td>
<td>30,361</td>
</tr>
<tr class="even">
<td>2017</td>
<td>26,196</td>
</tr>
<tr class="odd">
<td>2018</td>
<td>26,846</td>
</tr>
<tr class="even">
<td>2019</td>
<td>27,559</td>
</tr>
<tr class="odd">
<td>2020</td>
<td>26,194</td>
</tr>
<tr class="even">
<td>2021 (as of 07/19/2021)</td>
<td>17,688</td>
</tr>
</tbody>
</table>
<p>The number of requests has not changed much over the years.</p>
<div id="active-cases" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Active Cases</h3>
<p>How many cases are still active from each year? We can find out using the <code>REQUEST_STATUS</code> column, filtering out cases marked “Closed” or "Resolved.</p>
<p><code>CE16 %&gt;% filter(!str_detect(REQUEST_STATUS, "Closed|Resolved"))</code></p>
<table>
<thead>
<tr class="header">
<th>Year</th>
<th>Active Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2016</td>
<td>136</td>
</tr>
<tr class="even">
<td>2017</td>
<td>111</td>
</tr>
<tr class="odd">
<td>2018</td>
<td>532</td>
</tr>
<tr class="even">
<td>2019</td>
<td>956</td>
</tr>
<tr class="odd">
<td>2020</td>
<td>1,098</td>
</tr>
<tr class="even">
<td>2021</td>
<td>5,630</td>
</tr>
<tr class="odd">
<td><strong>All Years</strong></td>
<td><strong>8,463</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="request-type" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Request Type</h2>
<p>When a request is entered into 311, it must also be categorized. There are 14 categories for code enforcement data, including 3 categories related to COVID violations which were added in 2020.</p>
<p>The following code was used to find the most common requests for each year:</p>
<p><code>CE16 %&gt;% count(REQUEST_TYPE) %&gt;% arrange(desc(n)) %&gt;% mutate(pct = n/sum(n)*100)</code></p>
<p>For each year, the vast majority of requests fell into one of five categories, listed below.</p>
<table>
<colgroup>
<col width="28%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="11%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Request Type</th>
<th>2016</th>
<th>2017</th>
<th>2018</th>
<th>2019</th>
<th>2020</th>
<th>2021</th>
<th align="right">All</th>
<th>Years</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">Code Miscellaneous</td>
<td>28%</td>
<td>32%</td>
<td>32%</td>
<td>31%</td>
<td>25%</td>
<td>25%</td>
<td align="right"><strong>45,028</strong></td>
<td><strong>29%</strong></td>
</tr>
<tr class="even">
<td align="right">Vehicle Violation</td>
<td>22%</td>
<td>26%</td>
<td>28%</td>
<td>26%</td>
<td>30%</td>
<td>35%</td>
<td align="right"><strong>42,249</strong></td>
<td><strong>27%</strong></td>
</tr>
<tr class="odd">
<td align="right">Weeds Occupied</td>
<td>20%</td>
<td>18%</td>
<td>17%</td>
<td>19%</td>
<td>14%</td>
<td>11%</td>
<td align="right"><strong>26,161</strong></td>
<td><strong>17%</strong></td>
</tr>
<tr class="even">
<td align="right">Junky Yard</td>
<td>18%</td>
<td>13%</td>
<td>11%</td>
<td>12%</td>
<td>12%</td>
<td>15%</td>
<td align="right"><strong>21,283</strong></td>
<td><strong>14%</strong></td>
</tr>
<tr class="odd">
<td align="right">Substandard, Derelict Structure</td>
<td>9%</td>
<td>8%</td>
<td>10%</td>
<td>10%</td>
<td>7%</td>
<td>9%</td>
<td align="right"><strong>13,778</strong></td>
<td><strong>9%</strong></td>
</tr>
<tr class="even">
<td align="right"><strong>Sum</strong></td>
<td><strong>97%</strong></td>
<td><strong>97%</strong></td>
<td><strong>98%</strong></td>
<td><strong>98%</strong></td>
<td><strong>88%</strong></td>
<td><strong>95%</strong></td>
<td align="right"><strong>148,499</strong></td>
<td><strong>96%</strong></td>
</tr>
</tbody>
</table>
<p>From 2016 to 2019, more requests were sorted into “Miscellaneous” than any other category (surpassed by vehicle violations in 2020 and 2021).</p>
<!--# omg can I just outright say that is horrible data management? -->
</div>
<div id="resolution-code" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Resolution Code</h2>
<!--# Should I filter to just Misc & Derelict cases at this point? -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="literature.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["MA-capstone.pdf", "MA-capstone.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
